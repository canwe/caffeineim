#summary Описание процесса сборки библиотеки icqlib
#labels icqlib,maven,build

= Введение =

С версии 0.6 библиотека icqlib собирается с помощью [http://maven.apache.org/ Maven].
В этом документе подробно описывается процесс сборки и возможные трудности.

= Зависимости =

В данный момент библиотека icqlib зависит от:
 * commons-logging (версия 1.0.4)
 * log4j (версия 1.2.11)

Все зависимости в процессе сборки будут автоматически загружены из интернет. Дополнительных действий предпринимать не потребуется

= Сборка библиотеки =

== Компиляция ==
Для компиляции библиотеки Вам необходимо в корневой директории выполнить команду:
_mvn clean compile_
Результаты компиляции будут доступны в директории *target*

== Сборка jar-файла ==
Для сборкии jar-файла с библиотекой Вам необходимо в корневой директории выполнить команду:
_mvn clean compile package_
Собранный jar файл будет сохранен в директорию *target* и иметь вид *icqlib-<версия>.jar*

== Установка icqlib в локальный репозитарий maven ==
Если вы хотите собрать примеры, поставляемые в пакете icqlib-examples, вам необходимо предварительно собрать саму библиотеку icqlib и скопировать её в локальный maven репозитарий. Для этого Вам необходимо в корневой директории выполнить команду:
_mvn clean compile package install_

Maven выполнит сборку библиотеки в jar-файл и скопирует в ваш локальный maven-репозиторий.

Для удобства работы с библиотекой предоставляются демонстрационные .properties файлы _commons-logging.properties_ и _log4j.properties_, расположенные в директории _src/main/props_.

= Создание проектов для различных IDE =

Система сборки _maven_ содержит средства генерации _project_-файлов для различных IDE. В данной части документа приведены инструкции по созданию таких файлов.

== Eclipse ==

1. Необходимо добавить локальный _maven_-репозиторий в _Eclipse-workspace_, для этого необходимо выполнить команду:
_mvn -Declipse.workspace=<путь к workspace> eclipse:add-maven-repo_

2. Непосредственно сгенерировать ,project и .classpath файлы, для этого необходимо выполнить команду:
_mvn eclipse:eclipse_

Если необходимо загрузить исходники используемых библиотек, то нужно добавить в команду параметр

_-DdownloadSources=true_

Если необходимо загрузить _JavaDocs_ для используемых библиотек, то нужно добавить в команду параметр

_-DdownloadJavadocs=true_